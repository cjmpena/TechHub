<h2>Your Shopping Cart</h2>
<% @cart.products.each do |product| %>
  <p><%= product.name %> - <%= product.price %></p>
<% end %>
<ul>
  <% total_quantity = 0 %>
<% @cart.line_items.each do |line_item| %>
  <li>
    <%= line_item.product.name %> -
    <%= line_item.product.price %> -
    Quantity:
    <%= number_field_tag "line_items[#{line_item.id}][quantity]", line_item.quantity, in: 1..10, class: 'quantity-field' %>
    <%= button_to '+', update_quantity_cart_path(@cart, line_item_id: line_item.id, quantity: line_item.quantity + 1), method: :patch, remote: true, class: 'quantity-update' %>
    <%= button_to '-', update_quantity_cart_path(@cart, line_item_id: line_item.id, quantity: line_item.quantity - 1), method: :patch, remote: true, class: 'quantity-update' %>
    <%= link_to 'Remove', remove_cart_path(@cart, line_item_id: line_item.id), method: :delete %>
  </li>
  <% total_quantity += line_item.quantity %>
<% end %>
<p>Total Quantity in Cart: <%= total_quantity %></p>
