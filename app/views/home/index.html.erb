<style>
  a.no-underline {
    text-decoration: none;
  }
</style>

<div class="container mt-5">
  <div class="text-center">
    <div class="jumbotron">
      <h1 class="display-1">Welcome to Our Store!</h1>

      <% if customer_signed_in? %>
        <p class="lead">Welcome, <%= current_customer.email %>! <%= link_to "Logout", destroy_customer_session_path, method: :delete, class: 'no-underline' %></p>
      <% end %>
      
      <h3 class="display-6">About</h3>
        <div class="mb-3 font-family">
          <%= raw @contact_page.content if @contact_page.present? %>
        </div>
    </div>
  </div>

  <div class="text-center">
    <h2>Contact Us</h2>
    <div class="mb-3 font-family">
      <%= raw @contact_info.content if @contact_info.present? %>
    </div>
    <div class="font-family">
      <%= raw @contact_email.content if @contact_email.present? %>
    </div>
  </div>

  <div class="row mt-4">
    <% @categories.each do |category| %>
      <div class="col-md-6">
        <div class="card mb-4">
          <div class="card-body">
            <h2 class="card-title"><%= category.name %></h2>
            <p class="card-text"><%= link_to "View Products", category_products_path(category), class: 'btn btn-secondary text-white text-decoration-none' %></p>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <div class="card">
    <div class="card-body">
      <h2 class="card-title">Search Products</h2>
      <%= form_tag(search_path, method: :get, class: 'search-form') do %>
        <div class="form-row">
          <div class="form-group col-md-6">
            <%= text_field_tag :keyword, params[:keyword], class: 'form-control', placeholder: 'Enter keyword' %>
          </div>
          <div class="form-group col-md-4">
            <%= select_tag :category_id, options_from_collection_for_select(@categories, 'id', 'name', params[:category_id]), include_blank: 'All Categories', class: 'form-control' %>
          </div>
          <div class="form-group col-md-2">
            <%= submit_tag 'Search', class: 'btn btn-info' %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
